# План автоматизации

#### Объект тестирования

Веб-сервис оплаты путешествия следующими способами:
* дебетовой картой
* оформление кредита по реквизитам банковской карты

#### Валидные данные тестовых карт
* Номер разрешённой (APPROVED) карты: 4444 4444 4444 4441
* Номер запрещённой (DECLINED) карты: 4444 4444 4444 4442
* Месяц: двузначное число в диапазоне 01...12
* Год: больше текущего на два, в формате двузначного числа
* Владелец: Имя и Фамилия латиницей
* CVC: Трёхзначное число в диапазоне 000...999
---
## Перечень автоматизируемых сценариев

1. Купить. Успешная оплата разрешённой (APPROVED) картой
    * Выбрать "Купить"
    * Заполнить данные разрешённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Успешно". В БД статус операции: "APPROVED"

2. Купить. Отказ в оплате запрещённой (DECLINED) картой
    * Выбрать "Купить"
    * Заполнить данные запрещённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Отказано". В БД статус операции: "DECLINED"

3. Купить. Отказ. Номер карты валиден, но отсутствует в базе данных.
   Карта, номер которой отсутствует в базе данных, считается равной запрещённой карте
    * Выбрать "Купить"
    * В поле "Номер карты" ввести: 9999 9999 9999 9999
    * Заполнить остальные поля, валидными данными
    * Ожидаем: уведомление "Отказано"

4. Купить. Отказ. Неверный формат номера карты
    * Выбрать "Купить"
    * Заполнить все поля, кроме номера, валидными данными
    * В поле "Номер карты" ввести: 4444 4444 4444 444
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"

5. Купить. Оплата не происходит. Карта просрочена на месяц
    * Выбрать "Купить"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести прошедший
    * В поле "Год" ввести текущий год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Истек срок действия карты"

6. Купить. Оплата не происходит. Карта просрочена на год
    * Выбрать "Купить"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести текущий
    * В поле "Год" ввести прошлый год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Истёк срок действия карты"

7. Купить. Оплата не происходит. В поле "месяц" значения от 0 до 9
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести одну цифру от 0 до 9
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"

8. Купить. Оплата не происходит. В поле "месяц" значения от 13 до 99
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести одну цифру от 13 до 99
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

9. Купить. Оплата не происходит. В поле "Год" указан год старше 6 лет
    * Выбрать "Купить"
    * Заполнить все поля, кроме года, валидными данными
    * В поле "Год" ввести значение текущего года плюс 6 лет
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

10. Купить. Оплата не происходит. В поле "Год" указано значение от 0 до 9
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Год" ввести одну цифру от 0 до 9
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"

11. Купить. Оплата не происходит. В поле месяц значение 00
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести значение 00
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

12. Купить. Оплата не происходит. В "Год" месяц значение 00
    * Выбрать "Купить"
    * Заполнить все поля, кроме года, валидными данными
    * В поле "Год" ввести значение 00
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

13. Купить. Оплата не происходит. В поле "Владелец" только имя
    * Выбрать "Купить"
    * Заполнить все поля, кроме поля "Владелец", валидными данными
    * В поле "Владелец" ввести только имя, без фамилии
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

14. Купить. Оплата не происходит. В поле "Владелец" данные кириллицей
    * Выбрать "Купить"
    * Заполнить все поля, кроме поля "Владелец", валидными данными
    * В поле "Владелец" ввести данные имени и фамилию на кириллице
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

15. Купить. Оплата не происходит. В поле "Владелец" цифры
    * Выбрать "Купить"
    * Заполнить все поля, кроме поля "Владелец", валидными данными
    * В поле "Владелец" ввести данные цифрами от 0 до 99999
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

16. Купить. Оплата не происходит. В поле "Владелец" спецсимволы
    * Выбрать "Купить"
    * Заполнить все поля, кроме поля "Владелец", валидными данными
    * В поле "Владелец" ввести данные цифрами спецсимволами
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

17. Купить. Оплата не происходит. В поле "CVC/CVV" одна цифра
    * Выбрать "Купить"
    * Заполнить все поля, кроме поля "CVV", валидными данными
    * В поле "CVV" ввести одну цифру
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"

18. Купить. Оплата не происходит. В поле "CVC/CVV" две цифры
    * Выбрать "Купить"
    * Заполнить все поля, кроме поля "CVC/CVV", валидными данными
    * В поле ввести две цифры
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"

19. Купить. Оплата не происходит. Пустое поле "Номер карты"
    * Выбрать "Купить"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

20. Купить. Оплата не происходит. Пустое поле "Месяц"
    * Выбрать "Купить"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

21. Купить. Оплата не происходит. Пустое поле "Год"
    * Выбрать "Купить"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

22. Купить. Оплата не происходит. Пустое поле "Владелец"
    * Выбрать "Купить"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

23. Купить. Оплата не происходит. Пустое поле "CVC/CVV"
    * Выбрать "Купить"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

24. Купить. Оплата не происходит. Пустые поля
    * Выбрать "Купить"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Все поля подчёркнуты красным, под полями есть сообщение "Поле обязательно для заполнения"
---
25. Купить в кредит. Успешная оплата разрешённой (APPROVED) картой
    * Выбрать "Купить в кредит"
    * Заполнить данные разрешённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Успешно". В БД статус операции: "APPROVED"

26. Купить в кредит. Отказ в оплате запрещённой (DECLINED) картой
    * Выбрать "Купить в кредит"
    * Заполнить данные запрещённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Отказано". В БД статус операции: "DECLINED"

27. Купить в кредит. Отказ. Номер карты валиден, но отсутствует в базе данных.
    Карта, номер которой отсутствует в базе данных, считается равной запрещённой карте
    * Выбрать "Купить в кредит"
    * В поле "Номер карты" ввести: 9999 9999 9999 9999
    * Заполнить остальные поля, валидными данными
    * Ожидаем: уведомление "Отказано"

28. Купить в кредит. Отказ. Неверный формат номера карты
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме номера, валидными данными
    * В поле "Номер карты" ввести: 4444 4444 4444 444
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"

29. Купить в кредит. Оплата не происходит. Карта просрочена на месяц
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести прошедший
    * В поле "Год" ввести текущий год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Истек срок действия карты"

30. Купить в кредит. Оплата не происходит. Карта просрочена на год
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести текущий
    * В поле "Год" ввести прошлый год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Истёк срок действия карты"

31. Купить в кредит. Оплата не происходит. В поле "месяц" значения от 0 до 9
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести одну цифру от 0 до 9
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"

32. Купить в кредит. Оплата не происходит. В поле "месяц" значения от 13 до 99
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести одну цифру от 13 до 99
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

33. Купить в кредит. Оплата не происходит. В поле "Год" указан год старше 6 лет
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года, валидными данными
    * В поле "Год" ввести значение текущего года плюс 6 лет
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

34. Купить в кредит. Оплата не происходит. В поле "Год" указано значение от 0 до 9
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Год" ввести одну цифру от 0 до 9
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"

35. Купить в кредит. Оплата не происходит. В поле месяц значение 00
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести значение 00
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

36. Купить в кредит. Оплата не происходит. В "Год" месяц значение 00
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года, валидными данными
    * В поле "Год" ввести значение 00
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

37. Купить в кредит. Оплата не происходит. В поле "Владелец" только имя
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме поля "Владелец", валидными данными
    * В поле "Владелец" ввести только имя, без фамилии
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

38. Купить в кредит. Оплата не происходит. В поле "Владелец" данные кириллицей
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме поля "Владелец", валидными данными
    * В поле "Владелец" ввести данные имени и фамилию на кириллице
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

39. Купить в кредит. Оплата не происходит. В поле "Владелец" цифры
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме поля "Владелец", валидными данными
    * В поле "Владелец" ввести данные цифрами от 0 до 99999
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

40. Купить в кредит. Оплата не происходит. В поле "Владелец" спецсимволы
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме поля "Владелец", валидными данными
    * В поле "Владелец" ввести данные цифрами спецсимволами
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

41. Купить в кредит. Оплата не происходит. В поле "CVC/CVV" одна цифра
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме поля "CVV", валидными данными
    * В поле "CVV" ввести одну цифру
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"

42. Купить в кредит. Оплата не происходит. В поле "CVC/CVV" две цифры
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме поля "CVC/CVV", валидными данными
    * В поле ввести две цифры
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"

43. Купить в кредит. Оплата не происходит. Пустое поле "Номер карты"
    * Выбрать "Купить в кредит"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

44. Купить в кредит. Оплата не происходит. Пустое поле "Месяц"
    * Выбрать "Купить в кредит"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

45. Купить в кредит. Оплата не происходит. Пустое поле "Год"
    * Выбрать "Купить в кредит"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

46. Купить в кредит. Оплата не происходит. Пустое поле "Владелец"
    * Выбрать "Купить в кредит"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

47. Купить в кредит. Оплата не происходит. Пустое поле "CVC/CVV"
    * Выбрать "Купить в кредит"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

48. Купить в кредит. Оплата не происходит. Пустые поля
    * Выбрать "Купить в кредит"
    * Заполнить
    * В поле
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Все поля подчёркнуты красным, под полями есть сообщение "Поле обязательно для заполнения"
---
### Перечень используемых инструментов с обоснованием выбора
* Java 11 - наиболее распространенная версия языка в настоящее время
* MySQL - база данных с которой может работать приложение
* PostgreSQL - вторая база данных с которой может работать приложение
* node-js - окружение в котором работает симулятор банкоского сервиса (gate-simulator)
* Junit 5 - позволяет создавать автоматизированные тесты на java
* Selenide - простой синтаксис, упрощает написание UI тестов на java
* Faker - как генератор случайных имён владельца карты
* lombok - упрощение написание тестов на java, локаничность кода
* Allure - удобный генератор отчетов тестирования
---
### Перечень и описание возможных рисков при автоматизации
* У тестировщика нет достаточного опыта в работе с инструментарием
* Отсутствует документации к тестируемому приложению. При оценке поведения приложения приходится полагаться исключительно на собственный опыт использования подобными сервисами.
* Довольно сложный сценарий запуска приложения, а равно и автоматизация этого сценария
---
### Интервальная оценка с учётом рисков (в часах)
* Без рисков: до 65 часов:
    * 15 часов на исследование приложения;
    * 8 часов на планирование;
    * 18 часов на написание основы тестов и утилит;
    * 8 часов на написание самих сценариев;
    * 8 часов отладку сценариев;
    * 8 часов на описание багов и написание отчёта.
* С рисками: до 69 часов:
    * 47 часов без рисков + ещё 22 часов на изучение докера, субд и инструментов автоматизации.
---
### План сдачи работ
* Написание и отладка тестов: 21 октября 2023
* Оформление отчётов: 31 октября 2023